<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
                   xmlns:pro="http://www.liquibase.org/xml/ns/pro"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd">

    <changeSet author="system" id="db-init_20-add-constraints">
        <addUniqueConstraint columnNames="name" constraintName="uk_1umr55xv2np85ovu56ji4uxb8" tableName="workflow_department"/>
        <addUniqueConstraint columnNames="code" constraintName="uk_evrd8v327qr6kl637jbfhg2vf" tableName="workflow_department"/>
        <addUniqueConstraint columnNames="username" constraintName="uk_7mm2tjfgmjjmkei0dmryl2qik" tableName="security_users"/>
        <addUniqueConstraint columnNames="email" constraintName="uk_oklo2tlsf3pokkjk1qae1kdsa" tableName="security_users"/>
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="workflow_employee" constraintName="fk35kj5co70l043bv2m2luw4xo2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="security_user_role" constraintName="fk3le4uf1di3li2ps9cstt88dro" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="sender_id" baseTableName="workflow_chat_message" constraintName="fk469n37bfd0ulmhnmc6hee01lx" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="initiator_id" baseTableName="workflow_task" constraintName="fk51lv4fqjea8vvjxawmthqrckd" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="recipient_id" baseTableName="workflow_chat_room" constraintName="fk5q2ndxhhbglc0hgxb88k2fr9p" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="issue_id" baseTableName="workflow_card" constraintName="fk67syjtrbgprjdtatkxmcideje" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_issue" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="creator_id" baseTableName="workflow_card" constraintName="fk7l07ody5sniayoewsg2ghl0ux" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="parent_card_id" baseTableName="workflow_card" constraintName="fke098d7df-8b70-4da2-951d-701cedfd2062" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_card" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="receiver_id" baseTableName="workflow_notification" constraintName="fk8s8u61wvelyptnupmtqlwy5mw" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="security_user_role" constraintName="fkau2qnmea1e4kragtjaj2a128e" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_role" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="card_id" baseTableName="workflow_task" constraintName="fkb597uqtcx212gugbmfwoersfi" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_card" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="workflow_task" constraintName="fkf8ab1ff1-2705-4d25-a5c7-8b6403b8a6c9" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="card_id" referencedTableName="workflow_project" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="card_id" baseTableName="workflow_project" constraintName="fk19fa373b-d821-44c7-a182-489f0336d379" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_card" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="permission_id" baseTableName="security_role_permission" constraintName="fkbmd4805jo28xrdmheeu7ebhga" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_permission" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="workflow_note" constraintName="fkdgp8yle1jcb9mcasb5w2d3as7" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="parent_department_id" baseTableName="workflow_department" constraintName="fkdl1q4glvy6oercpcc54dtod92" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_department" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="card_id" baseTableName="workflow_issue" constraintName="fke261gac6u72kkusdilcxy5pw" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_card" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="workflow_issue" constraintName="fke5j3r8vs18nqe7ycdrxpyj1gi" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="sender_id" baseTableName="workflow_chat_room" constraintName="fkey08ce45207j7qf0xe0tvycwd" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="position_id" baseTableName="workflow_employee" constraintName="fkhjq9v4gpbhoxwdj23sjbgfy89" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_position" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="system_user_settings" constraintName="fkjyqh103b06cfwdhdvhwe6lexn" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="security_role_permission" constraintName="fklgks8w6b8upl0qpheoa5qsc8f" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_role" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="executor_id" baseTableName="workflow_issue" constraintName="fkqbby19sx5mce9pkwcjfeikk9j" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="recipient_id" baseTableName="workflow_chat_message" constraintName="fkqewov4wqkw7hjebwwcf6vjfvn" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="executor_id" baseTableName="workflow_task" constraintName="fkrgil0l46hmcbup12ob4jlfh16" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="initiator_id" baseTableName="workflow_issue" constraintName="fksyyumo1c8yk8j5y1yoephqd95" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="department_id" baseTableName="workflow_employee" constraintName="fkt8pkigoqmc5ibnioedhjaij36" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_department" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="project_manager_id" baseTableName="workflow_project" constraintName="fk258e32a2-b9c7-4edb-86a1-a74a1dd438c9" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="contractor_id" baseTableName="workflow_project" constraintName="fk3ad2f106-d324-41a4-956a-49f56bf65b34" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_contractor" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="workflow_ticket" constraintName="fk073f68f9-36c9-458d-b987-07c8dc8ad139" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="card_id" referencedTableName="workflow_project" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="creator_id" baseTableName="workflow_ticket" constraintName="fke0e3c271-59ce-4317-9834-9e021cdd32b0" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="assignee_id" baseTableName="workflow_ticket" constraintName="fkead0034d-a3de-4565-80f8-2c2653a3b19a" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="workflow_project_ticket" constraintName="fka8cec2ac-82a7-4a33-a69f-c2b075916452" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="card_id" referencedTableName="workflow_project" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="ticket_id" baseTableName="workflow_project_ticket" constraintName="fk895206f1-6134-41c7-9a0f-af802077f2b9" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_ticket" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="security_screen_permissions" constraintName="fk8ea20099-7302-40cc-a35f-f88c53f711e6" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_role" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="workflow_project_participant" constraintName="fk59640149-e50f-4a33-9ff1-b2d70e8b29ac" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="card_id" referencedTableName="workflow_project" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="workflow_project_participant" constraintName="fk1f7bac4e-042a-4d6f-a78a-dcbc21658035" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="workflow_calendar_event" constraintName="fk45f83122-d82f-41d9-b328-d3f6c94a7cb5" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="security_users" validate="true"/>
        <addForeignKeyConstraint baseColumnNames="card_id" baseTableName="workflow_calendar_event" constraintName="fk290165b9-94b5-4234-8e71-e9c1cd7eff00" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="workflow_card" validate="true"/>
    </changeSet>
</databaseChangeLog>