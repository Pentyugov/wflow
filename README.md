### Wflow server app

##### Стэк: Spring boot, Spring Data JPA, Spring Security (JWT), PostreSQl, Liquibase, Eureka Server, Feign Client, RestTemplate, Docker

_____

### Introduction
Данное приложение является серверной частью приложения Wflow-app, предназначенного для управления проектами и задачами.

Демо приложение доступно по адресу:
`wflow-app.ru`

 - Имя пользователя: testuser
 - Пароль: testuser

Клиентская часть:

      https://github.com/Pentyugov/zolloz-client-mat

Telegram bot для оповещения пользователя о назначенных и просроченных задачах:

      https://github.com/Pentyugov/wflow-app-bot

Eureka server для регистрации Eureka клиентов:

      https://github.com/Pentyugov/wflow-eureka-server
____

### Запуск
Требования:
 - JAVA 11
 - PostgreSQL
 - Maven

Перед запуском приложения необходимо прописать следующие переменные среды
 - `PORT` - 
 - `WFLOW_JWT_SECRET` - Секретный ключ для генерации JWT токена
 - `WFLOW_DATASOURCE_URL` - Ссылка на базу данных
 - `WFLOW_DATASOURCE_USERNAME` - Имя пользователя базы данных
 - `WFLOW_DATASOURCE_PASSWORD` - Пароль пользовател базы данных
 - `WFLOW_MAIL_HOST` - Email сервер для отправки почты
 - `WFLOW_MAIL_USERNAME` - Имя почты
 - `WFLOW_MAIL_PASSWORD` - Пароль почты
 - `WFLOW_UPLOADCARE_PUBLIC` - Публичный ключ сервиса UploadCare для сохрание пользовательских аватаров
 - `WFLOW_UPLOADCARE_SECRET`- Секретный ключ сервиса UploadCare

После установки переменных среды выполнить команды:

    mvn clean package

    java - jar ./target/wflow.jar

После запуска приложение регистрируется на Eureka server под именем `wflow-main-service`

____

### Функциональность
   
Приложение поддерживает следующую функциональность:

Функцианально приложение разделяется на 3 части каждая из которых в дальнейшем будет представлена отдельным сервисов

1) Модуль создания и редактирования следующих сущностей организации:
   
   - Пользователи системы;
   - Польовательские роли;
   - Сотрудники огранизации;
   - Должности сотрудников;
   - Подразделения организации;
   - Конрагенты.


2) Модуль рабочего процесса представляет собой создание карточек проектов, позволяет добавлять в созданные проекты 
пользователей на основании роли, создавать и направлять пользователям системы задачи, выполнять поставленные задачи и 
отправлять данные задачи на доработку.


3) Модуль приложений состоит из 3 приложений:

   - Чат пользователей системы
   - Календарь событий
   - Пользовательские заметки

____

### Регистриция пользователя

Новый пользователь может быть добавлен либо администратором системы, либо самостоятельной регистрацией пользователя в 
приложении.
По умолчанию пользователю при самостоятельной регистрации назначается роль `USER`. 
Дополнительные роли пользователю может предоставить администратор системы.

### Роли пользователя

 - `USER` - базовая роль пользователя. Позволяет пользователю просматривать данные организации;
 - `SECRETARY` - Позволяет пользователю просматривать редактировать организации;
 - `PROJECT_MANAGER` - Позволяет пользователю управлять проектами;
 - `PROJECT_PARTICIPANT` - Позволяет пользователю получать доступ к проектам. Пользователь видит только те проекты в 
которых он отмечен как участник;
 - `TASK_INITIATOR` - Позволяет пользователю создавать и назначать задачи пользователям с ролью `TASK_EXECUTOR`;
 - `TASK_EXECUTOR` - Позволяет пользователю становиться исполнителем задач